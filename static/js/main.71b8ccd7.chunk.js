(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{49:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},81:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),c=a(20),i=a.n(c),l=a(14),o=(a(49),a(50),a(1)),u=function(){return Object(o.jsx)("h1",{children:"Hello Welcome To Access Whether App Please Sign In!"})},d=a(5),h=(a(52),a(11)),j=["title","titleId"];function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function m(e,t){var a=e.title,s=e.titleId,c=p(e,j);return r.createElement("svg",b({xmlns:"http://www.w3.org/2000/svg",width:"50px",height:"39px",viewBox:"0 0 512.000000 512.000000",preserveAspectRatio:"xMidYMid meet",ref:t,"aria-labelledby":s},c),a?r.createElement("title",{id:s},a):null,n||(n=r.createElement("g",{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none"},r.createElement("path",{d:"M1345 4414 c-369 -212 -714 -412 -768 -443 l-98 -56 1040 -3 c573 -1 1509 -1 2082 0 l1041 3 -769 443 -769 442 -545 0 -544 0 -670 -386z"}),r.createElement("path",{d:"M765 3747 c33 -22 1769 -1025 1785 -1032 10 -3 368 199 915 515 494 286 901 523 904 525 2 3 -812 5 -1810 5 -1520 0 -1810 -2 -1794 -13z"}),r.createElement("path",{d:"M3775 3015 l-1040 -601 -3 -1203 c-1 -731 2 -1200 7 -1197 5 4 30 42 55 86 l47 80 95 0 95 0 887 511 c488 280 890 514 895 518 4 4 6 547 5 1207 l-3 1200 -1040 -601z"}),r.createElement("path",{d:"M302 2409 l3 -1202 890 -513 890 -513 97 -1 97 0 47 -80 c25 -44 50 -82 55 -86 5 -3 8 466 7 1197 l-3 1203 -1035 598 c-569 329 -1038 598 -1042 598 -5 0 -7 -541 -6 -1201z"}))))}var f=r.forwardRef(m),O=(a.p,function(e){return{type:"SET_CURRENT_USER",payload:e}}),g=Object(h.b)((function(e){return{currentUser:e.user.currentUser}}),(function(e){return{setCurrentUser:function(t){return e(O(t))}}}))((function(e){var t=e.currentUser;return console.log("uservalue",t),Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)(l.b,{className:"logo-container",to:"/",children:Object(o.jsx)(f,{className:"logo"})}),Object(o.jsx)("div",{className:"options",children:t?Object(o.jsx)("div",{className:"option",children:Object(o.jsx)("div",{className:"navigation",children:Object(o.jsxs)(l.b,{className:"button",onClick:function(){return window.location.reload()},children:[Object(o.jsx)("image",{src:t.user[0].userImage,alt:"image"}),Object(o.jsx)("div",{className:"logout",children:"LOGOUT"})]})})}):Object(o.jsx)(l.b,{className:"option",to:"/signin",children:"Sign In"})})]})})),v=a(17),x=a(21),w=a(22),y=a(25),C=a(24),N=a(13),S=a(26),U=(a(61),["handleChange","label"]),E=function(e){var t=e.handleChange,a=e.label,n=Object(S.a)(e,U);return Object(o.jsxs)("div",{className:"group",children:[Object(o.jsx)("input",Object(N.a)({className:"form-input",onChange:t},n)),a?Object(o.jsx)("label",{className:"".concat(n.value.length?"shrink":""," form-input-label"),children:a}):null]})},I=(a(62),["children"]),R=function(e){var t=e.children,a=Object(S.a)(e,I);return Object(o.jsx)("button",Object(N.a)(Object(N.a)({className:"custom-button"},a),{},{children:t}))},k=a(23),P=a.n(k),A=(a(81),function(e){Object(y.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){var t=n.props.setCurrentUser;e.preventDefault(),n.setState({email:"",password:""});var a=n.state,r=a.email,s=a.password;P.a.post("https://interview-test-node-deploy.herokuapp.com/users/login",{email:r,password:s}).then((function(e){console.log(e.data),"Auth failed"!==e.data.message?t(e.data):alert("UserName Or Password Invaid")})).catch((function(e){console.log(e)}))},n.handleChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(v.a)({},r,a))},n.state={email:"",password:""},n}return Object(w.a)(a,[{key:"render",value:function(){return Object(o.jsxs)("div",{className:"sign-in",children:[Object(o.jsx)("h2",{children:"I already have an account"}),Object(o.jsx)("span",{children:"Sign in with your email and password"}),Object(o.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(o.jsx)(E,{name:"email",type:"email",handleChange:this.handleChange,value:this.state.email,label:"Email",required:!0}),Object(o.jsx)(E,{name:"password",type:"password",value:this.state.password,handleChange:this.handleChange,label:"Password",required:!0}),Object(o.jsx)(R,{type:"submit",children:" Sign in "})]})]})}}]),a}(s.a.Component)),M=Object(h.b)(null,(function(e){return{setCurrentUser:function(t){return e(O(t))}}}))(A),T=a(32),q=a.n(T),z=a(43),D=a(33);a(86);D.a.initializeApp({apiKey:"AIzaSyAjDvl1129AfdCip2uz3SCMGa7nXK9XsPk",authDomain:"imagestore-aad6b.firebaseapp.com",projectId:"imagestore-aad6b",storageBucket:"imagestore-aad6b.appspot.com",messagingSenderId:"94113442479",appId:"1:94113442479:web:ce476fe2d86e0a3607025a",measurementId:"G-5FYWSR674T"});var L=D.a,G=(a(83),function(e){Object(y.a)(a,e);var t=Object(C.a)(a);function a(){var e;return Object(x.a)(this,a),(e=t.call(this)).handleSubmit=function(){var t=Object(z.a)(q.a.mark((function t(a){var n,r,s,c,i,l,o;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.setCurrentUser,a.preventDefault(),r=e.state,s=r.password,c=r.confirmPassword,i=r.image,s===c){t.next=6;break}return alert("passwords don't match"),t.abrupt("return");case 6:l=L.storage().ref(),o=l.child(i.name),o.put(i).snapshot.ref.getDownloadURL().then((function(t){e.setState({downloadURL:t}),console.log("sss",e.state);var a=e.state,r=a.displayName,s=a.email,c=a.password,i=a.downloadURL;P.a.post("https://interview-test-node-deploy.herokuapp.com/users/signup",{name:r,email:s,password:c,userImage:i}).then((function(e){console.log(e),"Mail exists"!==e.data.message?n(e.data):alert("This Email ID Already Exists")})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e.message),alert("INTERNAL SERVER ERROR")}));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(v.a)({},n,r))},e.imageUpload=function(t){t.target.files[0]&&e.setState({image:t.target.files[0]})},e.state={displayName:"",email:"",password:"",confirmPassword:"",image:""},e}return Object(w.a)(a,[{key:"render",value:function(){var e=this.state,t=e.displayName,a=e.email,n=e.password,r=e.confirmPassword;return Object(o.jsxs)("div",{className:"sign-up",children:[Object(o.jsx)("h2",{className:"title",children:"I do not have a account"}),Object(o.jsx)("span",{children:"Sign up with your email and password"}),Object(o.jsxs)("form",{className:"sign-up-form",onSubmit:this.handleSubmit,children:[Object(o.jsx)(E,{type:"text",name:"displayName",value:t,onChange:this.handleChange,label:"Display Name",required:!0}),Object(o.jsx)(E,{type:"email",name:"email",value:a,onChange:this.handleChange,label:"Email",required:!0}),Object(o.jsx)(E,{type:"password",name:"password",value:n,onChange:this.handleChange,label:"Password",required:!0}),Object(o.jsx)(E,{type:"password",name:"confirmPassword",value:r,onChange:this.handleChange,label:"Confirm Password",required:!0}),Object(o.jsx)("label",{children:"Select a file:"}),Object(o.jsx)("input",{type:"file",name:"image",onChange:this.imageUpload,required:!0}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)(R,{type:"submit",children:"SIGN UP"})]})]})}}]),a}(s.a.Component)),W=Object(h.b)(null,(function(e){return{setCurrentUser:function(t){return e(O(t))}}}))(G),_=(a(84),function(){return Object(o.jsxs)("div",{className:"sign-in-and-sign-up",children:[Object(o.jsx)(M,{}),Object(o.jsx)(W,{})]})}),B=function(){return Object(o.jsx)("div",{children:Object(o.jsx)("h1",{children:"OpenWeatherMap"})})};var J=Object(h.b)((function(e){return{currentUser:e.user.currentUser}}))((function(e){var t=e.currentUser;return console.log("userlatestvalue",t),Object(o.jsxs)("div",{children:[Object(o.jsx)(g,{}),Object(o.jsxs)(d.d,{children:[Object(o.jsx)(d.b,{exact:!0,path:"/",component:u}),Object(o.jsx)(d.b,{path:"/dashboard",render:function(){return t?Object(o.jsx)(B,{}):Object(o.jsx)(d.a,{to:"/signin"})}}),Object(o.jsx)(d.b,{exact:!0,path:"/signin",render:function(){return t?Object(o.jsx)(d.a,{to:"/dashboard"}):Object(o.jsx)(_,{})}})]})]})})),K=a(19),X=a(44),Y=a.n(X),F={currentUser:null},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(N.a)(Object(N.a)({},e),{},{currentUser:t.payload});default:return e}},V=Object(K.b)({user:H}),Q=[Y.a],Z=Object(K.c)(V,K.a.apply(void 0,Q));i.a.render(Object(o.jsx)(h.a,{store:Z,children:Object(o.jsx)(l.a,{children:Object(o.jsx)(J,{})})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.71b8ccd7.chunk.js.map